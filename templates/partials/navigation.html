<nav class="top-nav">
    <div class="nav-left">
        <div class="logo"><img src="/static/images/logo.png" alt="SimpleCrew" class="theme-logo"></div>
        <a onclick="switchTab('activity')" id="nav-activity" class="nav-link active">Activity</a>
        <a onclick="switchTab('expenses')" id="nav-expenses" class="nav-link">Expenses</a>
        <a onclick="switchTab('goals')" id="nav-goals" class="nav-link">Pockets</a>
        <a onclick="switchTab('family')" id="nav-family" class="nav-link">Family</a>
        <a onclick="switchTab('cards')" id="nav-cards" class="nav-link">Cards</a>
        <a onclick="switchTab('credit')" id="nav-credit" class="nav-link">Credit</a>
        <a onclick="switchTab('splitwise')" id="nav-splitwise" class="nav-link">Splitwise</a>
    </div>

    <!-- Mobile Hamburger Menu Button -->
    <div class="mobile-menu-toggle" onclick="toggleMobileMenu()">
        <svg viewBox="0 0 24 24" style="width: 24px; height: 24px; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round;">
            <line x1="3" y1="12" x2="21" y2="12"></line>
            <line x1="3" y1="6" x2="21" y2="6"></line>
            <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
    </div>

    <div class="mobile-center-header" onclick="toggleMobileStats(event)">
        <div class="mobile-top-label" id="mobile-header-label">Safe-to-Spend®</div>
        <div class="mobile-top-balance" id="mobile-header-balance">$ --.-- <span class="header-arrow">▼</span></div>

        <div id="mobile-sts-dropdown" class="mobile-sts-dropdown">
            <div class="mb-dropdown-row"><span id="mb-math-total">$0.00</span> <span class="mb-math-label">Available</span></div>
            <div class="mb-dropdown-row minus"><span id="mb-math-bills">-$0.00</span> <span class="mb-math-label">Bills</span></div>
            <div class="mb-dropdown-row minus"><span id="mb-math-goals">-$0.00</span> <span class="mb-math-label">Pockets</span></div>
            <div class="mb-dropdown-divider"></div>
            <div class="mb-dropdown-row total"><span id="mb-math-sts">$0.00</span> <span class="mb-math-label">Safe-to-Spend</span></div>
        </div>
    </div>
    <div class="nav-right">
        <div class="user-profile" onclick="toggleUserMenu(event)">
            <div class="avatar" id="user-avatar">--</div>
            <span style="font-weight:500;" id="user-name">Loading...</span>
            <span style="font-size: 10px;" id="user-menu-arrow">▼</span>
        </div>
        <div id="user-dropdown" class="user-dropdown">
            <div class="user-dropdown-item" onclick="switchTab('account'); toggleUserMenu(event);">
                <svg viewBox="0 0 24 24" style="width: 18px; height: 18px; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round;">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                </svg>
                <span>Account Settings</span>
            </div>
            <div class="user-dropdown-item" onclick="handleLogout(event)">
                <svg viewBox="0 0 24 24" style="width: 18px; height: 18px; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round;">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                    <polyline points="16 17 21 12 16 7"/>
                    <line x1="21" y1="12" x2="9" y2="12"/>
                </svg>
                <span>Logout</span>
            </div>
        </div>
    </div>
</nav>

<!-- Mobile Side Drawer Menu -->
<div id="mobile-drawer" class="mobile-drawer">
    <div class="mobile-drawer-overlay" onclick="toggleMobileMenu()"></div>
    <div class="mobile-drawer-content">
        <div class="mobile-drawer-header">
            <div class="drawer-user-info">
                <div class="drawer-avatar" id="drawer-avatar">--</div>
                <div class="drawer-user-details">
                    <div class="drawer-user-name" id="drawer-user-name">Loading...</div>
                    <div class="drawer-user-balance" id="drawer-user-balance">$0.00</div>
                </div>
            </div>
            <button class="drawer-close-btn" onclick="toggleMobileMenu()">
                <svg viewBox="0 0 24 24" style="width: 20px; height: 20px; stroke: currentColor; fill: none; stroke-width: 2; stroke-linecap: round; stroke-linejoin: round;">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>

        <div class="mobile-drawer-nav">
            
            <div class="drawer-section-title">BANKING</div>
            
            <div onclick="switchTab('activity'); toggleMobileMenu();" id="drawer-nav-activity" class="drawer-nav-item active">
                <svg viewBox="0 0 24 24"><path d="M3 12h18M3 6h18M3 18h18"/></svg>
                <span>Activity</span>
            </div>

            <div onclick="openMoveModal(); toggleMobileMenu();" class="drawer-nav-item highlight-item">
                <svg viewBox="0 0 24 24"><path d="M7 16V4M7 4L3 8M7 4l4 4M17 8v12M17 20l4-4M17 20l-4-4"/></svg>
                <span>Move Money</span>
            </div>

            <div onclick="switchTab('expenses'); toggleMobileMenu();" id="drawer-nav-expenses" class="drawer-nav-item">
                <svg viewBox="0 0 24 24"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                <span>Bills & Expenses</span>
            </div>

            <div onclick="switchTab('goals'); toggleMobileMenu();" id="drawer-nav-goals" class="drawer-nav-item">
                <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>
                <span>Pockets & Goals</span>
            </div>

            <div class="drawer-divider"></div>

            <div class="drawer-section-title">MANAGE</div>
            
            <div onclick="switchTab('cards'); toggleMobileMenu();" id="drawer-nav-cards" class="drawer-nav-item">
                <svg viewBox="0 0 24 24"><rect x="2" y="5" width="20" height="14" rx="2"/><path d="M2 10h20"/></svg>
                <span>Debit Cards</span>
            </div>
            
            <div onclick="switchTab('credit'); toggleMobileMenu();" id="drawer-nav-credit" class="drawer-nav-item">
                <svg viewBox="0 0 24 24"><path d="M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2zm0 14H4v-6h16v6zm0-10H4V6h16v2z"/></svg>
                <span>Credit Cards</span>
            </div>

            <div onclick="switchTab('family'); toggleMobileMenu();" id="drawer-nav-family" class="drawer-nav-item">
                <svg viewBox="0 0 24 24"><circle cx="12" cy="7" r="4"/><path d="M5.5 21v-2a4 4 0 0 1 4-4h5a4 4 0 0 1 4 4v2"/></svg>
                <span>Family</span>
            </div>

            <div onclick="switchTab('splitwise'); toggleMobileMenu();" id="drawer-nav-splitwise" class="drawer-nav-item">
                <svg viewBox="0 0 24 24"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
                <span>Splitwise</span>
            </div>

            <div class="drawer-divider"></div>

            <div onclick="switchTab('account'); toggleMobileMenu();" id="drawer-nav-account" class="drawer-nav-item">
                <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M12 1v6m0 6v6M5.6 5.6l4.2 4.2m4.4 4.4l4.2 4.2M1 12h6m6 0h6M5.6 18.4l4.2-4.2m4.4-4.4l4.2-4.2"/></svg>
                <span>Account Settings</span>
            </div>

            <div onclick="openIntercom(); toggleMobileMenu();" class="drawer-nav-item">
                <svg viewBox="0 0 24 24"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>
                <span>Help & Support</span>
            </div>

            <div onclick="handleLogout(event); toggleMobileMenu();" class="drawer-nav-item logout-item">
                <svg viewBox="0 0 24 24"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/><polyline points="16 17 21 12 16 7"/><line x1="21" y1="12" x2="9" y2="12"/></svg>
                <span>Logout</span>
            </div>
        </div>
    </div>
</div>
